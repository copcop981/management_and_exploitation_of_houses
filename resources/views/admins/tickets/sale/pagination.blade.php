<div class="mt-2 table-wrapper">
    <table class="table table-hover table-dark table-striped mb-1">
        <thead>
            <th scope="col" style="min-width: 50px !important;">STT</th>
            <th scope="col" style="min-width: 100px !important;">Người mua vé</th>
            <th scope="col" style="min-width: 100px !important;">Loại vé</th>
            <th scope="col" style="min-width: 100px !important;">Giá vé</th>
            <th scope="col" style="min-width: 120px !important;">Thời gian xuất vé</th>
            <th scope="col" style="min-width: 100px !important;">Trạng thái vé</th>
        </thead>
        <tbody id="list_ticket_table_data">
            @php($sn = ($tickets->perPage() * ($tickets->currentPage() - 1)) + 1)
            @if ($tickets !== null && count($tickets) > 0)
                @foreach ($tickets as $ticket)
                    <tr>
                        <td scope="row">{{ $sn++ }}</td>
                        <td scope="row">{{ $ticket->ticket_infor }}</td>
                        <td scope="row" class="text-uppercase">{{ $ticket->ticket_name }}</td>
                        <td scope="row">{{ number_format($ticket->ticket_price, 0, ',', '.').' VND' }}</td>
                        <td scope="row">{{ $ticket->ticket_issuing_time }}</td>
                        <td scope="row">
                            @if ($ticket->ticketStatus != null)
                                <span class="badge {{ $ticket->ticket_status_id == 1 ? 'badge-success' : 'badge-warning' }}">
                                    {{ $ticket->ticketStatus->status }}
                                </span>
                            @else
                                <span class="badge badge-danger">Không xác định</span>
                            @endif
                        </td>
                    </tr>  
                @endforeach
            @endif
        </tbody>
    </table>
</div>

<div class="mt-2" id="links">
    @if(count($tickets) > 0)
        <span style="font-size: 15px;"><strong>Hiển thị {{ $tickets->firstItem() }} - {{ $tickets->lastItem() }} / Tổng {{ $tickets->total() }}</strong></span>
    
        <nav aria-label="Page navigation example">
            <ul class="pagination justify-content-center">
                <li class="page-item {{ $tickets->currentPage() == 1 ? 'disabled' : '' }}">
                    <a href="?page=1" class="page-link">Đầu trang</a>
                </li>
                @if (isset($tickets) && count($tickets) > 0)
                    {{ $tickets->render('helpers.paginate') }}
                @endif
                <li class="page-item {{ $tickets->currentPage() == $tickets->lastPage() ? 'disabled' : '' }}">
                    <a href="?page={{ $tickets->lastPage() }}" class="page-link">Cuối trang</a>
                </li>
            </ul>
        </nav>
    @endif
</div>
