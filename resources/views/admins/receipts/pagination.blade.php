<div class="mt-2 table-wrapper">
    <table class="table table-hover table-dark table-striped mb-1">
        <thead>
            <tr>
                <th scope="col" style="min-width: 30px !important;">
                    <input type="checkbox" name="" id="check_all" style="cursor: pointer;">
                </th>
                <th scope="col" style="min-width: 50px !important;">STT</th>
                <th scope="col" style="min-width: 100px !important;">Mẫu số</th>
                <th scope="col" style="min-width: 100px !important;">Ký hiệu</th>
                <th scope="col" style="min-width: 100px !important;">Số HĐ</th>
                <th scope="col" style="min-width: 180px !important;">Tên chung cư</th>
                <th scope="col" style="min-width: 50px !important;">Nhà</th>
                <th scope="col" style="min-width: 50px !important;">Tầng</th>
                <th scope="col" style="min-width: 90px !important;">Căn hộ</th>
                <th scope="col" style="min-width: 180px !important;">Tên khách hàng</th>
                <th scope="col" style="min-width: 110px !important;">Gửi mail cho KH</th>
                <th scope="col" style="min-width: 130px !important;">Ngày tạo</th>
                <th scope="col" style="min-width: 120px !important;">Người tạo</th>
                <th scope="col" style="min-width: 130px !important;">Trạng thái</th>
                {{-- <th scope="col" style="min-width: 200px !important;">Mã cơ quan thuế</th>
                <th scope="col" style="min-width: 150px !important;">Kết quả trả về của thuế</th> --}}
                <th scope="col">Xem</th>
                <th scope="col">Sửa</th>
                <th scope="col">Xóa</th>
            </tr>
        </thead>
        <tbody id="list_receipt_table_data">
            @if ($receipts !== null && $receipts->count() > 0)
                @php($sn = ($receipts->perPage() * ($receipts->currentPage() - 1)) + 1)
                @foreach ($receipts as $receipt)
                    <tr id="r_id_{{ $receipt->id }}">
                        <td scope="row">
                            <input type="checkbox" name="ids" class="check_box" id="" value="{{ $receipt->id }}" style="cursor: pointer;">
                        </td>
                        <td scope="row">{{ $sn++ }}</td>
                        <td scope="row" class="text-uppercase">{{ $receipt->form_no }}</td>
                        <td scope="row" class="text-uppercase">{{ $receipt->serial_no }}</td>
                        <td scope="row">{{ $receipt->receipt_no }}</td>
                        <td scope="row">{{ $receipt->householdRoom->room->floor->block->apartment->name }}</td>
                        <td scope="row">{{ $receipt->householdRoom->room->floor->block->name }}</td>
                        <td scope="row">{{ $receipt->householdRoom->room->floor->name }}</td>
                        <td scope="row">{{ $receipt->householdRoom->room->name }}</td>
                        <td scope="row">{{ $receipt->householdRoom->household->fullname }}</td>
                        <td scope="row">
                            <center>
                                @if ($receipt->send_mail_to_customer == 0)
                                    <i class="fa-solid fa-xmark"></i>
                                @else
                                    <i class="fa-solid fa-check"></i>
                                @endif
                            </center>
                        </td>
                        <td scope="row">{{ \Carbon\Carbon::parse($receipt->date_created)->format('d-m-Y') }}</td>
                        <td scope="row">{{ $receipt->creator }}</td>
                        <td scope="row">
                            @if ($receipt->status == 0)
                                Chưa ký
                            @elseif ($receipt->status == 1)
                                Đã ký
                            @else
                                Đã phát hành
                            @endif
                        </td>
                        <td scope="row">
                            <center>
                                <button type="button" value="{{ $receipt->id }}" class="btn btn-outline-primary btn-sm" id="show_receipt_btn">
                                    <i class="fa-regular fa-eye"></i>
                                </button>
                            </center>
                        </td>
                        <td scope="row">
                            <center>
                                <a href="{{ route('edit.receipt', $receipt->id) }}" class="btn btn-outline-success btn-sm {{ $receipt->status > 0 ? 'disabled' : ''}}" id="edit_receipt_btn">
                                    <i class="fa-solid fa-pen"></i>
                                </a>
                            </center>
                        </td>
                        <td scope="row">
                            <center>
                                <button type="button" value="{{ $receipt->id }}" class="btn btn-outline-danger btn-sm" id="delete_receipt_btn">
                                    <i class="fa-solid fa-trash"></i>
                                </button>
                            </center>
                        </td>
                    </tr>
                @endforeach
            @endif
        </tbody>
    </table>
</div>

<div class="mt-2" id="links">
    @if(count($receipts) > 0)
        {{-- <span style="font-size: 15px;"><strong>Tổng: {{ $receipts->total() }}</strong></span> --}}
        <span style="font-size: 15px;"><strong>Hiển thị {{ $receipts->firstItem() }} - {{ $receipts->lastItem() }} / Tổng {{ $receipts->total() }}</strong></span>
    
        <nav aria-label="Page navigation example">
            <ul class="pagination justify-content-center">
                <li class="page-item {{ $receipts->currentPage() == 1 ? 'disabled' : '' }}">
                    <a href="?page=1" class="page-link">Đầu trang</a>
                </li>
                @if (isset($receipts) && count($receipts) > 0)
                    {{ $receipts->render('helpers.paginate') }}
                @endif
                <li class="page-item {{ $receipts->currentPage() == $receipts->lastPage() ? 'disabled' : '' }}">
                    <a href="?page={{ $receipts->lastPage() }}" class="page-link">Cuối trang</a>
                </li>
            </ul>
        </nav>
    @endif
</div>
