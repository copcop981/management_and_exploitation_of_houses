<div class="mt-2" style="overflow-x: scroll;">
    <table class="table table-hover table-dark table-striped mb-1">
        <thead>
            <tr>
                <th scope="col" style="min-width: 30px !important;">
                    <input type="checkbox" name="" id="check_all" style="cursor: pointer;">
                </th>
                <th scope="col" style="min-width: 50px !important;">STT</th>
                <th scope="col" style="min-width: 200px !important;">Tên hộ dân</th>
                <th scope="col" style="min-width: 150px !important;">Chung cư</th>
                <th scope="col" style="min-width: 100px !important;">Căn hộ</th>
                <th scope="col" class="text-center" style="min-width: 120px !important;">Đối tượng</th>
                <th scope="col" style="min-width: 150px !important;">Đơn giá</th>
                <th scope="col" class="text-center" style="min-width: 120px !important;">Miễn giảm</th>
                <th scope="col" style="min-width: 150px !important;">Đơn giá sau MG</th>
                <th scope="col" style="min-width: 120px !important;">Ngày ký HĐ</th>
                <th scope="col" style="min-width: 120px !important;">Trạng thái</th>
                <th scope="col" class="text-center">Xem</th>
                <th scope="col" class="text-center">Sửa</th>
                <th scope="col" class="text-center">Xóa</th>
            </tr>
        </thead>
        <tbody id="list_invoice_table_data">
            @php($sn = ($households->perPage() * ($households->currentPage() - 1)) + 1)
            @if ($households !== null && count($households) > 0)
                @foreach ($households as $household)
                    <tr id="r_id_{{ $household->id }}">
                        <td scope="row">
                            <input type="checkbox" name="ids" class="check_box" id="" value="{{ $household->id }}" style="cursor: pointer;">
                        </td>
                        <td scope="row">{{ $sn++ }}</td>
                        <td scope="row">{{ $household->fullname }}</td>
                        <td scope="row">{{ $household->householdRoom->room !== null ? $household->householdRoom->room->apartment->name : '' }}</td>
                        <td scope="row" class="text-uppercase">{{ $household->householdRoom->room !== null ? $household->householdRoom->room->block->name.$household->householdRoom->room->floor->name.$household->householdRoom->room->name : '' }}</td>
                        <td scope="row" class="text-uppercase text-center">{{ $household->householdRoom->residentObject !== null ? $household->householdRoom->residentObject->title : '-'}}</td>
                        <td scope="row" class="text-uppercase">{{ number_format($household->householdRoom->unitPrice->price, 0, ',', '.') }}</td>
                        <td scope="row" class="text-uppercase text-center">{{ $household->householdRoom->policy !== null ? $household->householdRoom->policy->exemption.'%' : '-' }}</td>
                        <td scope="row" class="text-uppercase">{{ number_format($household->householdRoom->unitPrice->price_after_policy, 0, ',', '.') }}</td>
                        <td scope="row" class="text-uppercase">{{ $household->householdRoom->contract_signing_date }}</td>
                        <td scope="row">{{ $household->householdRoom->roomStatus->title }}</td>
                        <td scope="row">
                            <center>
                                <button type="button" value="{{ $household->id }}" class="btn btn-outline-primary btn-sm" id="show_household_btn">
                                    <i class="fa-regular fa-eye"></i>
                                </button>
                            </center>
                        </td>
                        <td scope="row">
                            <center>
                                <button type="button" value="{{ $household->id }}" class="btn btn-outline-success btn-sm" id="edit_household_btn">
                                    <i class="fa-solid fa-pen"></i>
                                </button>
                            </center>
                        </td>
                        <td scope="row">
                            <center>
                                <button type="button" value="{{ $household->id }}" class="btn btn-outline-danger btn-sm" id="delete_household_btn">
                                    <i class="fa-solid fa-trash"></i>
                                </button>
                            </center>
                        </td>
                    </tr>
                @endforeach
            @endif
        </tbody>
    </table>
</div>

<div class="mt-2" id="links">
    @if(count($households) > 0)
        <span style="font-size: 15px;"><strong>Hiển thị {{ $households->firstItem() }} - {{ $households->lastItem() }} / Tổng {{ $households->total() }}</strong></span>
    
        <nav aria-label="Page navigation example">
            <ul class="pagination justify-content-center">
                <li class="page-item {{ $households->currentPage() == 1 ? 'disabled' : '' }}">
                    <a href="?page=1" class="page-link">Đầu trang</a>
                </li>
                @if (isset($households) && count($households) > 0)
                    {{ $households->render('helpers.paginate') }}
                @endif
                <li class="page-item {{ $households->currentPage() == $households->lastPage() ? 'disabled' : '' }}">
                    <a href="?page={{ $households->lastPage() }}" class="page-link">Cuối trang</a>
                </li>
            </ul>
        </nav>
    @endif
</div>
