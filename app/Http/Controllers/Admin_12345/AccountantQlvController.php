<?php

namespace App\Http\Controllers\Admin_12345;

use App\Models_12345\Qlv;
use Illuminate\Http\Request;
use App\Models_12345\Apartment;
use App\Models_12345\Accountant;
use App\Http\Controllers\Controller;
use App\Models_12345\Policy;
use App\Models_12345\ResidentObject;
use App\Repositories\AccountantQlvRepository;

class AccountantQlvController extends Controller
{
    protected $aqRepo;
    public function __construct(AccountantQlvRepository $aqRepo) {
        $this->aqRepo = $aqRepo;
    }

    public function getListAccountant() {
        $data = $this->aqRepo->getList(new Accountant, 'accountants', 'fullname');
        return response()->json($data);
    }

    public function getListQlv() {
        $data = $this->aqRepo->getList(new Qlv, 'qlvs', 'fullname');
        return response()->json($data);
    }

    public function getListApartment() {
        $data = $this->aqRepo->getList(new Apartment, 'apartments', 'name');
        return response()->json($data);
    }

    public function getListResidentObject() {
        $data = $this->aqRepo->getList(new ResidentObject, 'residentObjects', 'title');
        return response()->json($data);
    }

    public function getListExemption() {
        $data = $this->aqRepo->getList(new Policy, 'exemptions', 'exemption');
        return response()->json($data);
    }

    public function getListQlvToModal() {
        $data = $this->aqRepo->getListModel2ToModalWhereModel1IdEqs0(new Qlv, 'qlvs', 'accountant_id');
        return response()->json($data);
    }

    public function getListApartmentToModal() {
        $data = $this->aqRepo->getListModel2ToModalWhereModel1IdEqs0(new Apartment, 'apartments', 'qlv_id');
        return response()->json($data);
    }
}
