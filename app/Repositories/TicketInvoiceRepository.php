<?php

namespace App\Repositories;

use Carbon\Carbon;
use Illuminate\Http\Request;
use App\Models_12345\TicketObtained;
use App\Http\Requests\RequestResetPass;
use App\Models_12345\BillIssued;
use App\Models_12345\TicketType;

class TicketInvoiceRepository extends AbstractRepository
{
    public function getModel()
    {
        return BillIssued::class;
    }

    public function searchTicket($ticketType, $invoiceStatusId, $fromDate, $addDate) {
        $ticketInvoices = $this->model->orderBy('id', 'DESC')
                                        ->where('name', $ticketType)
                                        ->orWhere('invoice_status_id', $invoiceStatusId)
                                        ->orWhereBetween('issuing_time', [$fromDate, $addDate->addDay()]);
        return $ticketInvoices;
    }

    public function getList($model) {
        $list = $model->all();
        return $list;
    }

    public function getListByCol($model, $col) {
        $list = $model->select($col)->groupBy($col)->get();
        return $list;
    }
}
