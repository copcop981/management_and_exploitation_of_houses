<?php

namespace App\Repositories;

use Illuminate\Support\Str;
use Illuminate\Http\Request;
use App\Models_12345\TicketType;
use App\Http\Requests\RequestResetPass;

class TicketTypeRepository extends AbstractRepository
{
    public function getModel()
    {
        return TicketType::class;
    }

    public function searchTicketType($search) {
        if(Str::contains($search, '%')) {
            $search = explode('%', $search)[0];
        }
        $types = $this->model->orderBy('id', 'DESC')
                        ->where('type', 'like', '%'.$search.'%')
                        ->orWhere('price', $search)
                        ->orWhere('price_before_vat', $search)
                        ->orWhere('vat', $search)
                        ->orWhere('pattern', $search)
                        ->orWhere('serial', $search);
        return $types;
    }
}
